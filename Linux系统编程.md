# `Linux`系统编程

## `Linux`基本命令

### `shell`

![image-20220926175534292](F:\Linux\assets\image-20220926175534292.png)

![image-20220926175549712](F:\Linux\assets\image-20220926175549712.png)

### 快捷键

![image-20220926180010429](F:\Linux\assets\image-20220926180010429.png)

### 命令

##### 文件目录

![image-20220926191622216](F:\Linux\assets\image-20220926191622216.png)

![image-20220926191756988](F:\Linux\assets\image-20220926191756988.png)

![image-20220926192118952](F:\Linux\assets\image-20220926192118952.png)

`~`表示用户目录`home/xmd`

##### `cd`&&`ls`

![image-20220926192318539](F:\Linux\assets\image-20220926192318539.png)

`.`表示当前路径，`..`表示上级目录

![image-20220926192458195](F:\Linux\assets\image-20220926192458195.png)

![image-20220926195905575](F:\Linux\assets\image-20220926195905575.png)

##### `which`

![image-20220926195932594](F:\Linux\assets\image-20220926195932594.png)

##### `mkdir`

![image-20220926200322950](F:\Linux\assets\image-20220926200322950.png)

##### `rmdir`

![image-20220926200433688](F:\Linux\assets\image-20220926200433688.png)

##### `tough`

![image-20220926200624515](F:\Linux\assets\image-20220926200624515.png)

##### `rm`

![image-20220926201538537](F:\Linux\assets\image-20220926201538537.png)

递归删文件

![image-20220926201609120](F:\Linux\assets\image-20220926201609120.png)

##### `mv`

![image-20220926201655868](F:\Linux\assets\image-20220926201655868.png)



![image-20220926201708729](F:\Linux\assets\image-20220926201708729.png)

##### `cp`

![image-20220926201810808](F:\Linux\assets\image-20220926201810808.png)

![image-20220926201820271](F:\Linux\assets\image-20220926201820271.png)

##### `cat`

![image-20220926201912648](F:\Linux\assets\image-20220926201912648.png)

##### `more`

![image-20220926202135212](F:\Linux\assets\image-20220926202135212.png)

##### `less`

![image-20220926203202022](F:\Linux\assets\image-20220926203202022.png)

##### `head`

![image-20220926203246466](F:\Linux\assets\image-20220926203246466.png)

##### `tail`

![image-20220926203258352](F:\Linux\assets\image-20220926203258352.png)

##### 	`ln`

![image-20220926203319501](F:\Linux\assets\image-20220926203319501.png)

![image-20220926203930633](F:\Linux\assets\image-20220926203930633.png)

![image-20220926203656192](F:\Linux\assets\image-20220926203656192.png)

##### `wc`

![image-20220926204316074](F:\Linux\assets\image-20220926204316074.png)

##### `od`

![image-20220926204501876](F:\Linux\assets\image-20220926204501876.png)

##### `du`

![image-20220926204755098](F:\Linux\assets\image-20220926204755098.png)

##### `df`

![image-20220926204919030](F:\Linux\assets\image-20220926204919030.png)

##### 文件信息详解

![image-20220926193717768](F:\Linux\assets\image-20220926193717768.png)

![image-20220926193729064](F:\Linux\assets\image-20220926193729064.png)

![image-20220926193803436](F:\Linux\assets\image-20220926193803436.png)

##### `whoami`

![image-20220927094654429](F:\Linux\assets\image-20220927094654429.png)

##### `chmod`

![image-20220927094711418](F:\Linux\assets\image-20220927094711418.png)

![image-20220927095612178](F:\Linux\assets\image-20220927095612178.png)

##### `chown`

![image-20220927095636251](F:\Linux\assets\image-20220927095636251.png)

![image-20220927100504700](F:\Linux\assets\image-20220927100504700.png)

##### `chgrp`

![image-20220927100526086](F:\Linux\assets\image-20220927100526086.png)

##### `find`

![image-20220927103012373](F:\Linux\assets\image-20220927103012373.png)



##### `grep`

![image-20220927103421457](F:\Linux\assets\image-20220927103421457.png)

##### `apt-get`

![image-20220927105746411](F:\Linux\assets\image-20220927105746411.png)

![image-20220927110137235](F:\Linux\assets\image-20220927110137235.png)

##### `deb`安装

![image-20220927110413163](F:\Linux\assets\image-20220927110413163.png)

##### 源码安装

![image-20220927110657623](F:\Linux\assets\image-20220927110657623.png)

##### `mount`

![image-20220927111053914](F:\Linux\assets\image-20220927111053914.png)

挂载`U`盘

![image-20220927111150821](F:\Linux\assets\image-20220927111150821.png)

![image-20220927111449165](F:\Linux\assets\image-20220927111449165.png)

![image-20220927111528433](F:\Linux\assets\image-20220927111528433.png)

##### `dd`

![image-20220927112456183](F:\Linux\assets\image-20220927112456183.png)

![image-20220927112555472](F:\Linux\assets\image-20220927112555472.png)

![image-20220927112603965](F:\Linux\assets\image-20220927112603965.png)

##### `tar`

![image-20220927112715987](F:\Linux\assets\image-20220927112715987.png)

![image-20220927112723329](F:\Linux\assets\image-20220927112723329.png)

![image-20220927112739329](F:\Linux\assets\image-20220927112739329.png)

![image-20220927112921793](F:\Linux\assets\image-20220927112921793.png)

![image-20220927112931018](F:\Linux\assets\image-20220927112931018.png)

![image-20220927113016422](F:\Linux\assets\image-20220927113016422.png)

##### `who`

![image-20220927135800944](F:\Linux\assets\image-20220927135800944.png)

##### `ps`

![image-20220927135826581](F:\Linux\assets\image-20220927135826581.png)

![image-20220927135836846](F:\Linux\assets\image-20220927135836846.png)

![image-20220927135904520](F:\Linux\assets\image-20220927135904520.png)

![image-20220927140049426](F:\Linux\assets\image-20220927140049426.png)

![image-20220927140116393](F:\Linux\assets\image-20220927140116393.png)

![image-20220927140133865](F:\Linux\assets\image-20220927140133865.png)

##### `jobs`

![image-20220927140159989](F:\Linux\assets\image-20220927140159989.png)

`fg`

![image-20220927140355031](F:\Linux\assets\image-20220927140355031.png)

##### `bg`

![image-20220927140444426](F:\Linux\assets\image-20220927140444426.png)

##### `kill`

![image-20220927143331327](F:\Linux\assets\image-20220927143331327.png)

![image-20220927143347193](F:\Linux\assets\image-20220927143347193.png)

##### `env`

![image-20220927144725190](F:\Linux\assets\image-20220927144725190.png)

![image-20220927150304060](F:\Linux\assets\image-20220927150304060.png)

##### `source`

配置文件内容生效

##### 创建用户

![image-20220927150717664](F:\Linux\assets\image-20220927150717664.png)

![image-20220927151739362](F:\Linux\assets\image-20220927151739362.png)

##### `root`用户

![image-20220927151605690](F:\Linux\assets\image-20220927151605690.png)

##### `ifconfig`

![image-20220927153054137](F:\Linux\assets\image-20220927153054137.png)

![image-20220927161413907](F:\Linux\assets\image-20220927161413907.png)

##### `netstat`

![image-20220927161432863](F:\Linux\assets\image-20220927161432863.png)

![image-20220927161443122](F:\Linux\assets\image-20220927161443122.png)

##### `man`

![image-20220927161728382](F:\Linux\assets\image-20220927161728382.png)

##### `echo`

![image-20220927165043284](F:\Linux\assets\image-20220927165043284.png)

##### `shutdown`

![image-20220927165759446](F:\Linux\assets\image-20220927165759446.png)

##### `free`

查看空闲内存

![image-20220927170136791](F:\Linux\assets\image-20220927170136791.png)

## `FTP`&`NFS`

`FTP`

文件传输协议

### `NFS`

![image-20220930114342951](F:\Linux\assets\image-20220930114342951.png)

`clientA`对目录`mnt`的操作就是对网络文件服务器`nfsserver`的操作

## `SSH`

![image-20220930115227136](F:\Linux\assets\image-20220930115227136.png)

## `telnet`

明文传输数据

## `VIM`

### `VI`简介

![image-20220930120529847](F:\Linux\assets\image-20220930120529847.png)

### 三种模式

![image-20220930140117945](F:\Linux\assets\image-20220930140117945.png)

#### 命令行模式

![image-20220930121511501](F:\Linux\assets\image-20220930121511501.png)

#### 文本输入模式

![image-20220930140246234](F:\Linux\assets\image-20220930140246234.png)

#### 末行模式

![image-20220930140252393](F:\Linux\assets\image-20220930140252393.png)

#### 基础操作

![image-20220930140350053](F:\Linux\assets\image-20220930140350053.png)

![image-20220930140419083](F:\Linux\assets\image-20220930140419083.png)

![image-20220930140434238](F:\Linux\assets\image-20220930140434238.png)

![image-20220930140443878](F:\Linux\assets\image-20220930140443878.png)

![image-20220930140453112](F:\Linux\assets\image-20220930140453112.png)

![image-20220930140507433](F:\Linux\assets\image-20220930140507433.png)

#### `vim`打造`ide`

利用相关配置，打造自定义的`vim`代码编辑`ide`

## `gcc`

![image-20220930162550592](F:\Linux\assets\image-20220930162550592.png)

## 静态库和共享库

`soname`是在运行时判断可执行文件是否可以在现在的环境中运行

![image-20220930173756219](F:\Linux\assets\image-20220930173756219.png)

### 静态库

![image-20220930191530079](F:\Linux\assets\image-20220930191530079.png)

好处是在任何一台电脑上都可以执行，不好的地方在于因为将静态库已经编译进了可执行文件中，所以代码体积大

### 共享库

![image-20220930192828443](F:\Linux\assets\image-20220930192828443.png)

好处是代码体积小，但是运行时依赖于本地环境存在共享库且版本号要一致

## 文件`IO`

![image-20220930201150692](F:\Linux\assets\image-20220930201150692.png)

![image-20220930201204693](F:\Linux\assets\image-20220930201204693.png)

![image-20220930201445239](F:\Linux\assets\image-20220930201445239.png)

![image-20220930202635236](F:\Linux\assets\image-20220930202635236.png)

![image-20220930204730067](F:\Linux\assets\image-20220930204730067.png)

![image-20221002122455341](F:\Linux\assets\image-20221002122455341.png)

### 阻塞和非阻塞

![image-20221002140136514](F:\Linux\assets\image-20221002140136514.png)

### `open`

![image-20221002193146213](F:\Linux\assets\image-20221002193146213.png)

### `ISEEK`

![image-20221002154249620](F:\Linux\assets\image-20221002154249620.png)

### `fcntl`

![image-20221002173046396](F:\Linux\assets\image-20221002173046396.png)

![image-20221002164619960](F:\Linux\assets\image-20221002164619960.png)

### `ioctl`

![image-20221002171535894](F:\Linux\assets\image-20221002171535894.png)

![image-20221002173428487](F:\Linux\assets\image-20221002173428487.png)

## `ext2`文件系统

![image-20221002193659160](F:\Linux\assets\image-20221002193659160.png)

![image-20221002200619481](F:\Linux\assets\image-20221002200619481.png)

![image-20221002202137810](F:\Linux\assets\image-20221002202137810.png)

### 一个递归所有文件的程序

![image-20221004151230115](F:\Linux\assets\image-20221004151230115.png)

![image-20221004151256416](F:\Linux\assets\image-20221004151256416.png)

## 虚拟文件系统

![image-20221004170304687](F:\Linux\assets\image-20221004170304687.png)

### `dup/dup2`

![image-20221004170328998](F:\Linux\assets\image-20221004170328998.png)

![image-20221004170343867](F:\Linux\assets\image-20221004170343867.png)

不会新创建`file`结构体，而`open`会新创建`file`结构体

## 进程

![image-20221004185742359](F:\Linux\assets\image-20221004185742359.png)

![image-20221004193717070](F:\Linux\assets\image-20221004193717070.png)

![image-20221004200032300](F:\Linux\assets\image-20221004200032300.png)

### `exec`

![image-20221005111408741](F:\Linux\assets\image-20221005111408741.png)

![image-20221005114253160](F:\Linux\assets\image-20221005114253160.png)

![image-20221005145809372](F:\Linux\assets\image-20221005145809372.png)

### `wait/waitpid`

![image-20221005151804439](F:\Linux\assets\image-20221005151804439.png)

![image-20221005161257996](F:\Linux\assets\image-20221005161257996.png)

![image-20221005175217069](F:\Linux\assets\image-20221005175217069.png)

`options`参数可以选择非阻塞

#### 孤儿进程和僵尸进程

![image-20221005174448508](F:\Linux\assets\image-20221005174448508.png)

## 进程间的通信

![image-20221005180503416](F:\Linux\assets\image-20221005180503416.png)

### `pipe`

![image-20221006101938660](F:\Linux\assets\image-20221006101938660.png)

![image-20221006123015745](F:\Linux\assets\image-20221006123015745.png)

![image-20221006123032232](F:\Linux\assets\image-20221006123032232.png)

![image-20221006123045870](F:\Linux\assets\image-20221006123045870.png)

![image-20221006123124648](F:\Linux\assets\image-20221006123124648.png)

![image-20221006134355725](F:\Linux\assets\image-20221006134355725.png)

### `fifo`

![image-20221006142426886](F:\Linux\assets\image-20221006142426886.png)

![image-20221006143510615](F:\Linux\assets\image-20221006143510615.png)

磁盘的索引去索引内核中的`pipe`

### `mmap`

![image-20221006160318806](F:\Linux\assets\image-20221006160318806.png)

![image-20221006160340563](F:\Linux\assets\image-20221006160340563.png)

![image-20221006163047621](F:\Linux\assets\image-20221006163047621.png)

## `gdb`

![image-20221006225914776](F:\Linux\assets\image-20221006225914776.png)

![image-20221007105235131](F:\Linux\assets\image-20221007105235131.png)

![image-20221007105659899](F:\Linux\assets\image-20221007105659899.png)

![image-20221007113155046](F:\Linux\assets\image-20221007113155046.png)

## `MakeFile`

![image-20221007122141476](F:\Linux\assets\image-20221007122141476.png)

![image-20221007123224974](F:\Linux\assets\image-20221007123224974.png)

### `clean`

![image-20221007145516037](F:\Linux\assets\image-20221007145516037.png)

![image-20221007150453357](F:\Linux\assets\image-20221007150453357.png)

![image-20221007153653368](F:\Linux\assets\image-20221007153653368.png)

![image-20221007154311386](F:\Linux\assets\image-20221007154311386.png)

![image-20221007154802959](F:\Linux\assets\image-20221007154802959.png)

![image-20221007154651950](F:\Linux\assets\image-20221007154651950.png)

![image-20221007162122145](F:\Linux\assets\image-20221007162122145.png)

## `shell`

![image-20221007164011106](F:\Linux\assets\image-20221007164011106.png)

## 信号

![image-20221007195003447](F:\Linux\assets\image-20221007195003447.png)

![image-20221007195547648](F:\Linux\assets\image-20221007195547648.png)

![image-20221007195628182](F:\Linux\assets\image-20221007195628182.png)

![image-20221007195645990](F:\Linux\assets\image-20221007195645990.png)

### 进程处理信号的行为

![image-20221007200806067](F:\Linux\assets\image-20221007200806067.png)

![image-20221007200822398](F:\Linux\assets\image-20221007200822398.png)

![image-20221007200832562](F:\Linux\assets\image-20221007200832562.png)

![image-20221007201153844](F:\Linux\assets\image-20221007201153844.png)

![image-20221007203512038](F:\Linux\assets\image-20221007203512038.png)

![image-20221007225147558](F:\Linux\assets\image-20221007225147558.png)

`block`阻塞信号集又叫信号屏蔽字

### `sigaction`

![image-20221008110753565](assets/image-20221008110753565.png)

![image-20221008111838007](assets/image-20221008111838007.png)

## 可重入和时序竞态

### 可重入函数

在信号捕捉函数里面禁止调用不可重入函数

![image-20221008145953340](assets/image-20221008145953340.png)

![image-20221008150731888](assets/image-20221008150731888.png)

### 时序竞态

![image-20221008165657364](assets/image-20221008165657364.png)

改进之后

![image-20221008173259938](assets/image-20221008173259938.png)

## 全局变量异步IO

使用定义好的变量和`volatile`关键字

## `SIGCHLD`使用

### 产生条件

![image-20221008202654857](assets/image-20221008202654857.png)

### `status`

![image-20221008203250226](assets/image-20221008203250226.png)
